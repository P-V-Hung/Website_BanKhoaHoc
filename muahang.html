<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="css/muahang.css">
    <link rel="stylesheet" href="font-icon/fontawesome-free-6.3.0-web/css/all.min.css">
</head>

<body>
    <div class="wapper">
        <header class="header-main">
            <img src="img/logo-1-02.png" alt="">
            <h1>HỌC LẬP TRÌNH ĐỂ ĐI LÀM </h1>
            <div class="abc">
                <form action="">
                    <input type="search" placeholder="Tìm kiếm khóa học, bài viết, video ...">
                    <a href="#"><i class="fa-solid fa-magnifying-glass"></i></a>
                </form>
            </div>

            <button class="dn">
                <a href="dangnhap.html">Đăng nhập</a>
            </button>
            <button class="dn1">
                <a href="#">Đăng kí</a>
            </button>

        </header>
        <div class="content-main">
            <div class="content-left">
                <div class="chua">
                    <ul>
                        <li>
                            <a href="trangchu.html">
                                <div><i class="fa-solid fa-house"></i></div>
                                <div><span>Home</span></div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div><i class="fa-solid fa-road"></i></div>
                                <div><span>Lộ trình</span></div>
                            </a>
                        </li>
                        <li>
                            <a href="#">
                                <div><i class="fa-brands fa-blogger"></i></div>
                                <div><span>Blog</span></div>
                            </a>
                        </li>
                        <li>
                            <a href="lienhe.html">
                                <div><i class="fa-solid fa-phone"></i></div>
                                <div><span>Liên hệ</span></div>
                            </a>
                        </li>
                        <li>
                            <a href="dathang.html">
                                <div><i class="fa-solid fa-cart-shopping"></i></div>
                                <div><span>Đặt hàng</span></div>
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
            <div class="content-right">
                <div class="from">
                    <form action="" id="form">
                        <h2>Nhập thông tin để mua hàng</h2>
                        <table>
                            <tr>
                                <td><label for="ten">Nhập họ tên của bạn</label></td>
                                <td><input type="text" id="ten" placeholder="ho ten cua ban"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span class="error" id="error-ten"></span></td>
                            </tr>
                            <tr>
                                <td><label for="sdt">Nhập số điện thoại</label></td>
                                <td><input type="text" id="sdt" placeholder="so dien thoai"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span class="error" id="error-sdt"></span></td>
                            </tr>
                            <tr>
                                <td><label for="cmt">Nhập số chứng minh thư</label></td>
                                <td><input type="text" id="cmt" placeholder="chung minh thu"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span class="error" id="error-cmt"></span></td>
                            </tr>
                            <tr>
                                <td><label for="mail">Nhập email</label></td>
                                <td><input type="email" id="email" placeholder="email"></td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span class="error" id="error-email"></span></td>
                            </tr>
                            <tr>
                                <td><label for="chon">Chọn khóa học bạn muốn mua</label></td>
                                <td>
                                    <select name="" id="chon" style="width: 250px;">
                                        <option value="1" hidden></option>
                                        <option value="Khóa học  C# Nâng Cao">Khóa học C# Nâng Cao</option>
                                        <option value="Khóa học Java cơ bản --> Nâng cao">Khóa học Java cơ bản --> Nâng
                                            cao</option>
                                        <option value="Khóa học C++ Nâng Cao">Khóa học C++ Nâng Cao</option>
                                        <option value="Khóa học PHP Nâng Cao">Khóa học PHP Nâng Cao</option>
                                        <option value="Khóa học Dev FullStack">Khóa học Dev FullStack</option>
                                        <option value="Khóa học JavaScript Nâng cao">Khóa học JavaScript Nâng cao
                                        </option>
                                        <option value="Khóa học Html - Css cơ bản">Khóa học Html - Css cơ bản</option>
                                        <option value="Khóa học Html - Css Nâng cao">Khóa học Html - Css Nâng cao
                                        </option>
                                    </select>
                                </td>
                            </tr>
                            <tr>
                                <td></td>
                                <td><span class="error" id="error-chon"></span></td>
                            </tr>
                            <tr>
                                <td>Số tiền: </td>
                                <td><input type="text" id="sotien" readonly></td>
                            </tr>
                        </table>
                        <button type="submit">Đặt hàng</button>
                    </form>
                </div>
                <div class="thongtinmua">
                    <table id="tha">
                        <tr>
                            <th style="width: 50px;">Mã đặt</th>
                            <th style="width: 170px;">Tên khách hàng</th>
                            <th style="width: 130px;">Số đt</th>
                            <th style="width: 150px;">Số chứng minh thư</th>
                            <th style="width: 150px;">Email</th>
                            <th style="width: 200px;">Khó học đã mua</th>
                            <th style="width: 150px;">Thao tác</th>
                        </tr>
                        <tbody id="table">

                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
</body>
<script>
    var soTien = document.getElementById('sotien');
    var chon = document.getElementById('chon');
    chon.onchange = () => {
        var valuee = chon.value;
        if (valuee == 1) {
            giaTT = soTien.value = "";
        } else if (valuee == "Khóa học  C# Nâng Cao") {
            giaTT = soTien.value = '234.000 vnd';
        }
        else if (valuee == "Khóa học Java cơ bản --> Nâng cao") {
            giaTT = soTien.value = '432.000 vnd';
        }
        else if (valuee == "Khóa học C++ Nâng Cao") {
            giaTT = soTien.value = '414.000 vnd';
        }
        else if (valuee == "Khóa học Dev FullStack") {
            giaTT = soTien.value = '653.000 vnd';
        }
        else if (valuee == "Khóa học PHP Nâng Cao") {
            giaTT = soTien.value = '325.000 vnd';
        }
        else if (valuee == "Khóa học JavaScript Nâng cao") {
            giaTT = soTien.value = '543.000 vnd';
        }
        else if (valuee == "Khóa học Html - Css cơ bản") {
            giaTT = soTien.value = '643.000 vnd';
        } else if (valuee == "Khóa học Html - Css Nâng cao") {
            giaTT = soTien.value = '900.000 vnd'
        }
    }
    var form = document.querySelector('#form');
    arrMang = ['ten', 'sdt', 'cmt', 'email', 'chon']
    function validate() {
        var error = false;
        var data = {};
        for (var i = 0; i < arrMang.length; i++) {
            var gt = document.querySelector('#' + arrMang[i])
            var loi = document.querySelector('#error-' + arrMang[i]);
            loi.innerHTML = '';
            if (gt.value == '') {
                loi.innerHTML = 'Đây là trường bắt buộc';
                error = true;
            }
            if (arrMang[i] == 'chon') {
                if (gt.selectedIndex == 0) {
                    loi.innerHTML = 'Đây là trường bắt buộc';
                    error = true;
                }
            }
            if (arrMang[i] == 'sdt' || arrMang[i] == 'cmt') {
                if (isNaN(gt.value)) {
                    loi.innerHTML = 'phải nhập số';
                    error = true;
                }
            }
            data[arrMang[i]] = gt.value;

        }
        if (!error) {
            return data;
        }
        return false;
    }
    var table = document.querySelector('#table');
    var dulieu = [];
    function render() {
        var content = '';
        for (var i = 0; i < dulieu.length; i++) {
            content = content + `
                <tr> 
                    <td>${i + 1} </td>
                    <td>${dulieu[i].ten} </td>
                    <td>${dulieu[i].sdt} </td>
                    <td>${dulieu[i].cmt} </td>
                    <td>${dulieu[i].email} </td>
                    <td>${dulieu[i].chon} </td>
                    <td><button class="btn-x" data-id="${i}"> Xóa </button> </td>
                </tr>
            `
        }
        table.innerHTML = content;
        var btn = document.querySelectorAll('.btn-x');
        for(var i =0;i<btn.length;i++){
            btn[i].onclick = function(){
                var id = this.dataset.id
                dulieu.splice(id, 1);
                render();
            }
        }
    }

    form.onsubmit = (e) => {
        e.preventDefault();
        var thongtin = validate();
        if (thongtin) {
            dulieu.push(thongtin);
            render();
            form.reset();
        }

    }

</script>




</html>